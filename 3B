#include <stdio.h>
#include <stdlib.h>
struct node{
    unsigned dist[20];
    unsigned from[20];
}route[10];
int main(){
    int mat[20][20],n,count;
    scanf("%d",&n);
    for(int i=0;i<n;i++)
        for(int j=0;j<n;j++){
            scanf("%d",&mat[i][j]);
            mat[i][i]=0;
            route[i].dist[j]=mat[i][j];
            route[i].from[j]=j;
        }
        do{
            count=0;
            for(int i=0;i<n;i++)
                for(int j=0;j<n;j++)
                    for(int k=0;k<n;k++)
                        if(route[i].dist[j]>mat[i][k]+route[k].dist[j]){
                            route[i].dist[j]=route[i].dist[k]+route[k].dist[j];
                            route[i].from[j]=k;
                            count++;
                        }
        }while(count!=0);
        for(int i=0;i<n;i++){
            printf("\n\nState value for router %d is \n",i+1);
            for(int j=0;j<n;j++)
                printf("\t\nnode %d via %d Distance%d",j+1,route[i].from[j]+1,route[i].dist[j]);
        }
}
